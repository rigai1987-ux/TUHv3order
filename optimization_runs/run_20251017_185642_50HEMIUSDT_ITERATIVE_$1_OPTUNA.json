{
  "run_name": "run_20251017_185642_50HEMIUSDT_ITERATIVE_$1_OPTUNA",
  "timestamp": "2025-10-17T18:56:42.826440",
  "ranges": {
    "stop_loss_pct_max_optimization": 2.1,
    "lookback_period_min_optimization": 1,
    "natr_min_min_optimization": 0.01,
    "min_growth_pct_max_optimization": 2.0,
    "rng_pctl_max_optimization": 1,
    "select_all_data_optimization": false,
    "load_profile_optimization": false,
    "natr_period_max_optimization": 50,
    "bracket_timeout_candles_min_optimization": 1,
    "take_profit_pct_min_optimization": 0.5,
    "save_profile_optimization": false,
    "rng_pctl_min_optimization": 1,
    "bracket_offset_pct_max_optimization": 1.0,
    "take_profit_pct_max_optimization": 3.5,
    "hldir_window_min_optimization": 5,
    "range_period_max_optimization": 30,
    "hldir_offset_min_optimization": 0,
    "bracket_offset_pct_min_optimization": 0.1,
    "natr_period_min_optimization": 1,
    "bracket_timeout_candles_max_optimization": 10,
    "vol_period_max_optimization": 30,
    "range_period_min_optimization": 1,
    "hldir_window_max_optimization": 20,
    "stop_loss_pct_min_optimization": 0.5,
    "lookback_period_max_optimization": 50,
    "start_date_optimization": "2025-09-01",
    "natr_min_max_optimization": 1.0,
    "entry_logic_mode_optimization": "Вилка отложенных ордеров",
    "selected_files_optimization": [
      "50HEMIUSDT-klines-1s-2025-09-01_to_2025-09-30.parquet"
    ],
    "vol_pctl_min_optimization": 1,
    "aggressive_mode_optimization": false,
    "select_profile_optimization": "012345",
    "name_optimization": "012345",
    "commission_optimization": 0.1,
    "profile_name_optimization": "",
    "min_growth_pct_min_optimization": 0.01,
    "end_date_optimization": "2025-09-26",
    "hldir_offset_max_optimization": 10,
    "vol_period_min_optimization": 1,
    "vol_pctl_max_optimization": 25,
    "position_size_optimization": 100.0
  },
  "settings": {
    "position_size": 100.0,
    "commission": 0.1,
    "aggressive_mode": false,
    "start_date": "2025-09-01",
    "end_date": "2025-09-26"
  },
  "data_files": [
    "50HEMIUSDT-klines-1s-2025-09-01_to_2025-09-30.parquet"
  ],
  "best_params": {
    "classifier_type": "CatBoost",
    "prints_analysis_period": 7,
    "prints_threshold_ratio": 2.761733742016784,
    "m_analysis_period": 3,
    "m_threshold_ratio": 2.0479070114935283,
    "hldir_window": 15,
    "hldir_offset": 0,
    "catboost_iterations": 227,
    "catboost_depth": 5,
    "catboost_learning_rate": 0.13050631387430991,
    "vol_period": 7,
    "vol_pctl": 18,
    "range_period": 28,
    "rng_pctl": 1,
    "natr_period": 1,
    "natr_min": 0.1620812120971687,
    "lookback_period": 41,
    "min_growth_pct": 0.3508906195142394,
    "stop_loss_pct": 1.7734270816324422,
    "take_profit_pct": 3.319035863830078,
    "entry_logic_mode": "Вилка отложенных ордеров",
    "bracket_offset_pct": 0.33903865695829033,
    "bracket_timeout_candles": 5
  },
  "optimization_type": "optuna_iterative",
  "top_10_results": [
    {
      "classifier_type": "CatBoost",
      "prints_analysis_period": 7,
      "prints_threshold_ratio": 2.761733742016784,
      "m_analysis_period": 3,
      "m_threshold_ratio": 2.0479070114935283,
      "hldir_window": 15,
      "hldir_offset": 0,
      "vol_period": 7,
      "vol_pctl": 18,
      "range_period": 28,
      "rng_pctl": 1,
      "natr_period": 1,
      "natr_min": 0.1620812120971687,
      "lookback_period": 41,
      "min_growth_pct": 0.3508906195142394,
      "stop_loss_pct": 1.7734270816324422,
      "take_profit_pct": 3.319035863830078,
      "entry_logic_mode": "Вилка отложенных ордеров",
      "bracket_offset_pct": 0.33903865695829033,
      "bracket_timeout_candles": 5,
      "trial_number": 45,
      "value": 0.7317455772233474,
      "total_signals": 132,
      "total_trades": 77,
      "winning_trades": 33,
      "win_rate": 0.42857142857142855,
      "total_pnl": 16.279999999999713,
      "avg_pnl": 0.21142857142856772,
      "max_drawdown": 0.20190000000000125,
      "profit_factor": 1.187817258883245,
      "final_balance": 116.27999999999973,
      "feature_importances": null,
      "ml_rejected_signals": [],
      "classifier_details": "{'iterations': 227, 'depth': 5, 'learning_rate': 0.13050631387430991}"
    },
    {
      "classifier_type": "CatBoost",
      "prints_analysis_period": 8,
      "prints_threshold_ratio": 2.0534674354952984,
      "m_analysis_period": 3,
      "m_threshold_ratio": 2.110810373195684,
      "hldir_window": 16,
      "hldir_offset": 0,
      "vol_period": 8,
      "vol_pctl": 9,
      "range_period": 30,
      "rng_pctl": 1,
      "natr_period": 10,
      "natr_min": 0.25350904480865866,
      "lookback_period": 40,
      "min_growth_pct": 0.504923008679221,
      "stop_loss_pct": 2.0626638136839137,
      "take_profit_pct": 3.153533481730597,
      "entry_logic_mode": "Вилка отложенных ордеров",
      "bracket_offset_pct": 0.4061699682732657,
      "bracket_timeout_candles": 7,
      "trial_number": 11,
      "value": 0.6391350033188065,
      "total_signals": 323,
      "total_trades": 159,
      "winning_trades": 73,
      "win_rate": 0.4591194968553459,
      "total_pnl": 20.99000000000055,
      "avg_pnl": 0.13201257861635565,
      "max_drawdown": 0.4083984003047003,
      "profit_factor": 1.1079954723194108,
      "final_balance": 120.99000000000063,
      "feature_importances": null,
      "ml_rejected_signals": [],
      "classifier_details": "{'iterations': 176, 'depth': 7, 'learning_rate': 0.04203818564412731}"
    },
    {
      "classifier_type": "CatBoost",
      "prints_analysis_period": 4,
      "prints_threshold_ratio": 2.6966672816972133,
      "m_analysis_period": 3,
      "m_threshold_ratio": 2.125251132097262,
      "hldir_window": 17,
      "hldir_offset": 1,
      "vol_period": 7,
      "vol_pctl": 15,
      "range_period": 29,
      "rng_pctl": 1,
      "natr_period": 17,
      "natr_min": 0.26845070940908744,
      "lookback_period": 43,
      "min_growth_pct": 0.7197847483264901,
      "stop_loss_pct": 1.8132802434075395,
      "take_profit_pct": 2.8136512485036516,
      "entry_logic_mode": "Вилка отложенных ордеров",
      "bracket_offset_pct": 0.5257716825469932,
      "bracket_timeout_candles": 4,
      "trial_number": 23,
      "value": 0.4369865719673752,
      "total_signals": 297,
      "total_trades": 85,
      "winning_trades": 39,
      "win_rate": 0.4588235294117647,
      "total_pnl": 9.33000000000011,
      "avg_pnl": 0.10976470588235424,
      "max_drawdown": 0.2548667548667542,
      "profit_factor": 1.1009085009733957,
      "final_balance": 109.33000000000013,
      "feature_importances": null,
      "ml_rejected_signals": [],
      "classifier_details": "{'iterations': 239, 'depth': 8, 'learning_rate': 0.1444544015463744}"
    },
    {
      "classifier_type": "CatBoost",
      "prints_analysis_period": 7,
      "prints_threshold_ratio": 2.4878462598178666,
      "m_analysis_period": 3,
      "m_threshold_ratio": 2.2201014333946367,
      "hldir_window": 14,
      "hldir_offset": 0,
      "vol_period": 12,
      "vol_pctl": 15,
      "range_period": 26,
      "rng_pctl": 1,
      "natr_period": 17,
      "natr_min": 0.35037678734954414,
      "lookback_period": 49,
      "min_growth_pct": 0.9290278787723518,
      "stop_loss_pct": 1.8916566921430455,
      "take_profit_pct": 2.824488739258446,
      "entry_logic_mode": "Вилка отложенных ордеров",
      "bracket_offset_pct": 0.520347047363352,
      "bracket_timeout_candles": 6,
      "trial_number": 27,
      "value": 0.39518234704664745,
      "total_signals": 220,
      "total_trades": 86,
      "winning_trades": 40,
      "win_rate": 0.46511627906976744,
      "total_pnl": 8.660000000000176,
      "avg_pnl": 0.10069767441860669,
      "max_drawdown": 0.24103009259259203,
      "profit_factor": 1.090076971083838,
      "final_balance": 108.66000000000015,
      "feature_importances": null,
      "ml_rejected_signals": [],
      "classifier_details": "{'iterations': 230, 'depth': 6, 'learning_rate': 0.09862266787679176}"
    },
    {
      "classifier_type": "CatBoost",
      "prints_analysis_period": 6,
      "prints_threshold_ratio": 2.619175765710435,
      "m_analysis_period": 4,
      "m_threshold_ratio": 2.0316725225742425,
      "hldir_window": 13,
      "hldir_offset": 0,
      "vol_period": 5,
      "vol_pctl": 18,
      "range_period": 23,
      "rng_pctl": 1,
      "natr_period": 1,
      "natr_min": 0.1502083839635413,
      "lookback_period": 37,
      "min_growth_pct": 0.33087744146999504,
      "stop_loss_pct": 1.7153127920872946,
      "take_profit_pct": 3.1062375363022365,
      "entry_logic_mode": "Вилка отложенных ордеров",
      "bracket_offset_pct": 0.22399192740556054,
      "bracket_timeout_candles": 6,
      "trial_number": 9,
      "value": 0.2724061569721434,
      "total_signals": 192,
      "total_trades": 127,
      "winning_trades": 52,
      "win_rate": 0.4094488188976378,
      "total_pnl": 7.3199999999994585,
      "avg_pnl": 0.05763779527558629,
      "max_drawdown": 0.43844209343694507,
      "profit_factor": 1.0508333333333293,
      "final_balance": 107.3199999999995,
      "feature_importances": null,
      "ml_rejected_signals": [],
      "classifier_details": "{'iterations': 186, 'depth': 4, 'learning_rate': 0.16173830900498629}"
    },
    {
      "classifier_type": "CatBoost",
      "prints_analysis_period": 8,
      "prints_threshold_ratio": 2.0467021978380373,
      "m_analysis_period": 3,
      "m_threshold_ratio": 2.6401381248526192,
      "hldir_window": 14,
      "hldir_offset": 1,
      "vol_period": 17,
      "vol_pctl": 17,
      "range_period": 25,
      "rng_pctl": 1,
      "natr_period": 3,
      "natr_min": 0.31381355057415944,
      "lookback_period": 48,
      "min_growth_pct": 0.6351122485052694,
      "stop_loss_pct": 1.990412657914124,
      "take_profit_pct": 2.9592286748132297,
      "entry_logic_mode": "Вилка отложенных ордеров",
      "bracket_offset_pct": 0.46410373958766704,
      "bracket_timeout_candles": 7,
      "trial_number": 15,
      "value": 0.13922894021642057,
      "total_signals": 147,
      "total_trades": 71,
      "winning_trades": 32,
      "win_rate": 0.4507042253521127,
      "total_pnl": 2.909999999999919,
      "avg_pnl": 0.040985915492956604,
      "max_drawdown": 0.18084358523725874,
      "profit_factor": 1.0340709518791698,
      "final_balance": 102.90999999999993,
      "feature_importances": null,
      "ml_rejected_signals": [],
      "classifier_details": "{'iterations': 65, 'depth': 7, 'learning_rate': 0.17250201489147293}"
    },
    {
      "classifier_type": "CatBoost",
      "prints_analysis_period": 8,
      "prints_threshold_ratio": 1.8775762367873698,
      "m_analysis_period": 4,
      "m_threshold_ratio": 2.18317836550529,
      "hldir_window": 16,
      "hldir_offset": 2,
      "vol_period": 11,
      "vol_pctl": 17,
      "range_period": 27,
      "rng_pctl": 1,
      "natr_period": 5,
      "natr_min": 0.47901036910560085,
      "lookback_period": 44,
      "min_growth_pct": 0.8404716885620376,
      "stop_loss_pct": 1.9403743589825582,
      "take_profit_pct": 2.831653725278163,
      "entry_logic_mode": "Вилка отложенных ордеров",
      "bracket_offset_pct": 0.20262744983890885,
      "bracket_timeout_candles": 6,
      "trial_number": 19,
      "value": 0.04816084456206054,
      "total_signals": 59,
      "total_trades": 42,
      "winning_trades": 19,
      "win_rate": 0.4523809523809524,
      "total_pnl": 0.7499999999999791,
      "avg_pnl": 0.01785714285714236,
      "max_drawdown": 0.13275795190069847,
      "profit_factor": 1.0152377082486792,
      "final_balance": 100.74999999999997,
      "feature_importances": null,
      "ml_rejected_signals": [],
      "classifier_details": "{'iterations': 254, 'depth': 6, 'learning_rate': 0.05676376999480131}"
    },
    {
      "classifier_type": "CatBoost",
      "prints_analysis_period": 4,
      "prints_threshold_ratio": 2.645619211442574,
      "m_analysis_period": 2,
      "m_threshold_ratio": 2.532675026475108,
      "hldir_window": 12,
      "hldir_offset": 1,
      "vol_period": 15,
      "vol_pctl": 14,
      "range_period": 24,
      "rng_pctl": 1,
      "natr_period": 23,
      "natr_min": 0.4979728568316898,
      "lookback_period": 43,
      "min_growth_pct": 0.6800556071004564,
      "stop_loss_pct": 1.7440244229969546,
      "take_profit_pct": 3.391140606908209,
      "entry_logic_mode": "Вилка отложенных ордеров",
      "bracket_offset_pct": 0.2383270520942341,
      "bracket_timeout_candles": 4,
      "trial_number": 17,
      "value": -0.01787600996610559,
      "total_signals": 109,
      "total_trades": 61,
      "winning_trades": 23,
      "win_rate": 0.3770491803278688,
      "total_pnl": -0.35000000000005826,
      "avg_pnl": -0.005737704918033742,
      "max_drawdown": 0.26828351193833455,
      "profit_factor": 0.9952523060227879,
      "final_balance": 99.64999999999993,
      "feature_importances": null,
      "ml_rejected_signals": [],
      "reason_for_penalty": "Недостаточно сделок или убыточность. Trades: 61, PnL: -0.35",
      "classifier_details": "{'iterations': 271, 'depth': 7, 'learning_rate': 0.03747771877218736}"
    },
    {
      "classifier_type": "CatBoost",
      "prints_analysis_period": 5,
      "prints_threshold_ratio": 2.568771619106246,
      "m_analysis_period": 2,
      "m_threshold_ratio": 2.088285623187354,
      "hldir_window": 13,
      "hldir_offset": 0,
      "vol_period": 9,
      "vol_pctl": 6,
      "range_period": 23,
      "rng_pctl": 1,
      "natr_period": 13,
      "natr_min": 0.2721184298422935,
      "lookback_period": 45,
      "min_growth_pct": 0.9901595925827797,
      "stop_loss_pct": 1.9303775070491178,
      "take_profit_pct": 3.2329629183466393,
      "entry_logic_mode": "Вилка отложенных ордеров",
      "bracket_offset_pct": 0.21605817440823522,
      "bracket_timeout_candles": 7,
      "trial_number": 12,
      "value": -0.02843153187828166,
      "total_signals": 320,
      "total_trades": 187,
      "winning_trades": 77,
      "win_rate": 0.4117647058823529,
      "total_pnl": -0.990000000000606,
      "avg_pnl": -0.005294117647062064,
      "max_drawdown": 0.3515057615958181,
      "profit_factor": 0.9957746478873214,
      "final_balance": 99.00999999999948,
      "feature_importances": null,
      "ml_rejected_signals": [],
      "reason_for_penalty": "Недостаточно сделок или убыточность. Trades: 187, PnL: -0.99",
      "classifier_details": "{'iterations': 266, 'depth': 6, 'learning_rate': 0.09794304816153156}"
    },
    {
      "classifier_type": "CatBoost",
      "prints_analysis_period": 7,
      "prints_threshold_ratio": 2.147063533923919,
      "m_analysis_period": 3,
      "m_threshold_ratio": 2.8670659510300944,
      "hldir_window": 14,
      "hldir_offset": 1,
      "vol_period": 7,
      "vol_pctl": 9,
      "range_period": 26,
      "rng_pctl": 1,
      "natr_period": 8,
      "natr_min": 0.23664259028973444,
      "lookback_period": 49,
      "min_growth_pct": 0.06550840698757686,
      "stop_loss_pct": 2.0129572548218584,
      "take_profit_pct": 3.104698960378796,
      "entry_logic_mode": "Вилка отложенных ордеров",
      "bracket_offset_pct": 0.6270547485328335,
      "bracket_timeout_candles": 6,
      "trial_number": 26,
      "value": -0.08842427731067812,
      "total_signals": 507,
      "total_trades": 126,
      "winning_trades": 54,
      "win_rate": 0.42857142857142855,
      "total_pnl": -2.5200000000001848,
      "avg_pnl": -0.020000000000001468,
      "max_drawdown": 0.290180283851171,
      "profit_factor": 0.9841628959276006,
      "final_balance": 97.47999999999975,
      "feature_importances": null,
      "ml_rejected_signals": [],
      "reason_for_penalty": "Недостаточно сделок или убыточность. Trades: 126, PnL: -2.52",
      "classifier_details": "{'iterations': 170, 'depth': 7, 'learning_rate': 0.0496390062216552}"
    }
  ]
}